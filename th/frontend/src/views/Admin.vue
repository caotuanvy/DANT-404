<template>
  <div class="d-flex min-vh-100">
    <!-- Sidebar -->
    <aside class="sidebar bg-white border-end px-3 py-4" style="width: 260px;">
      <div class="text-center mb-4">
        <img src="" alt="Logo" style="max-width: 120px;" />
      </div>

      <div v-for="section in menu" :key="section.label" class="mb-3">
        <div class="section-label mb-2">{{ section.label }}</div>
        <ul class="nav flex-column">
          <li v-for="item in section.items" :key="item.label" class="nav-item">
            <router-link
              :to="item.to"
              class="nav-link d-flex align-items-center px-2 py-2"
            >
              <i :class="[item.icon, 'me-2']"></i> {{ item.label }}
            </router-link>
          </li>
        </ul>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-grow-1 p-4 bg-light">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h5 class="mb-0">üéØ B·∫£ng ƒëi·ªÅu khi·ªÉn</h5>
        <button class="btn btn-outline-danger btn-sm" @click="logout">ƒêƒÉng xu·∫•t</button>
      </div>

      <router-view />
    </main>
  </div>
</template>

<script setup>
import { useRouter } from 'vue-router'
const router = useRouter()

const logout = () => {
  localStorage.removeItem('token')
  localStorage.removeItem('role')
  router.push('/login')
}

const menu = [
  {
    label: 'Qu·∫£n l√Ω s·∫£n ph·∫©m',
    items: [{ to: '/admin/products', label: 'S·∫£n ph·∫©m', icon: 'bi bi-box' }],
  },
  {
    label: 'Qu·∫£n l√Ω ƒë∆°n h√†ng',
    items: [{ to: '/admin/orders', label: 'ƒê∆°n h√†ng', icon: 'bi bi-receipt' }],
  },
  {
    label: 'Qu·∫£n l√Ω Ng∆∞·ªùi d√πng',
    items: [{ to: '/admin/customers', label: 'Ng∆∞·ªùi D√πng', icon: 'bi bi-user' }],
  },
  {
    label: 'Qu·∫£n l√Ω thu·ªôc t√≠nh',
    items: [{ to: '/admin/attributes', label: 'Thu·ªôc t√≠nh', icon: 'bi bi-sliders' }],
  },
  {
    label: 'Qu·∫£n l√Ω b√†i vi·∫øt',
    items: [
      { to: '/admin/dichvu', label: 'D·ªãch v·ª• ti·ªán √≠ch', icon: 'bi bi-file-earmark-text' },
      { to: '/admin/album', label: 'Album', icon: 'bi bi-image' },
      { to: '/admin/news', label: 'Tin t·ª©c', icon: 'bi bi-newspaper' },
      { to: '/admin/video', label: 'Video', icon: 'bi bi-camera-video' },
      { to: '/admin/payment', label: 'H√¨nh th·ª©c thanh to√°n', icon: 'bi bi-cash' },
      { to: '/admin/notifications', label: 'Th√¥ng b√°o ƒë·∫©y', icon: 'bi bi-bell' },
    ],
  },
  {
    label: 'Qu·∫£n l√Ω trang tƒ©nh',
    items: [
      { to: '/admin/pages/weekly-program', label: 'Ch∆∞∆°ng tr√¨nh theo tu·∫ßn', icon: 'bi bi-calendar-week' },
    ],
  },
]
</script>

<style scoped>
.sidebar {
  border-right: 1px solid #dee2e6;
  height: 100%;
  overflow-y: auto;
}

.section-label {
  color: #1266b3;
  font-weight: 600;
  text-transform: uppercase;
  font-size: 13px;
}

/* M·∫∑c ƒë·ªãnh */
.sidebar .nav-link {
  color: #333;
  font-size: 14px;
  transition: background-color 0.3s ease, color 0.3s ease;
}
/* Khi router-link active */
.sidebar .nav-link.router-link-exact-active {
  background-color: #f0f0f0;
  border-radius: 5px;
  font-weight: 600;
  color: #1266b3 !important;
}

.sidebar .nav-link.router-link-exact-active i {
  color: #1266b3 !important;
}
</style>